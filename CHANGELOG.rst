=======
History
=======


0.12.0 (2022-01-18)
===================

* **Breaking Change**: Change in ``AnnulusDescription`` to support different types of annulus equipment. Now ``AnnulusDescription``` has an attribute ``AnnulusEquipmentDescription``, which holds a dict that can contain multiple different equipment types, for which the current available options are:

  - ``LeakEquipmentDescription``;
  - ``GasLiftValveEquipmentDescription``;

* Example on how to update previous .alfacase files with annulus equipment:

  - Before::

      annulus:
        gas_lift_valve_equipment:
          Gas Lift Valve (Well 1 > Annulus) 1:
            position:
              value: 100.0
              unit: m
            ...  # Other properties

  - After::

      annulus:
        equipment:
          gas_lift_valves:
            Gas Lift Valve (Well 1 > Annulus) 1:
              position:
                value: 100.0
                unit: m
              ...  # Other properties

* Removed *force per square velocity* unit definition, it is present in the new barril version.


0.11.0 (2021-11-30)
===================

* **Breaking Change**: Change ``TrendOutputDescription`` to support different trends types. Now trends in ``CaseOutputDescription`` are an object of ``TrendsOutputDescription`` that contains a list for each trend type. The available trend types are:

  - ``PositionalPipeTrendDescription``;
  - ``GlobalTrendDescription``;
  - ``OverallPipeTrendDescription``;
  - ``EquipmentTrendDescription``;
  - ``SeparatorTrendDescription``;

* Add new API functions related to Multi-Field Description info: ``get_number_of_fields``, ``get_number_of_phases``, ``get_number_of_layers`` and ``get_number_of_phase_pairs``.
* Add new API functions related to Multi-Field Description phase and field ids: ``get_phase_id_of_fields``, ``get_field_ids_in_layer`` and ``get_phase_pair_id``.
* Add LeakEquipment equipment.
* Add SurgeVolumeOptionsDescription (optional, used by PositionalPipeTrendDescription to hold some input for surge volume curves calculation).


0.10.1 (2021-06-30)
===================

* Temporarily pin ``strictyaml`` dependency due to conflicts.


0.10.0 (2021-06-29)
===================

* Add a new category ``gas standard volume`` from quantity ``standard volume``.
* Add transient input for:
    - ``MassSourceNode`` and ``MassSourceEquipment``: ``temperature``, ``volumetric_flow_rates_std``, ``mass_flow_rates``, ``total_mass_flow_rate``, ``water_cut``, ``gas_oil_ratio``;
    - ``PressureNode`` and ``ReservoirInflowEquipment``: ``pressure``, ``temperature``, ``mass_fractions``, ``volume_fractions``, ``gas_liquid_ratio``, ``gas_oil_ratio``, ``water_cut``;
    - ``LinearIPR``: ``well_index``;
    - ``HeatSourceEquipment``: ``power``;
* Add two new hooks to calculate solids model (for slurry viscosity and slip velocity).
* **Breaking Change**: Change ``OpeningCurveDescription`` (``opening_curve`` attribute) for ``Curve`` from barril.
* **Breaking Change**: Change signature of ``HOOK_INITIALIZE_STATE_VARIABLES_CALCULATOR``.
* **Breaking Change**: Change signature of ``HOOK_CALCULATE_RELATIVE_EMULSION_VISCOSITY``.
* Add new API function ``get_relative_emulsion_viscosity`` which is a helper function that can be used in the Hooks of Liquid-Liquid Mechanistic Model.


0.9.0 (2021-05-04)
==================

* Add new CLI command called ``update``. It updates files automatically generated by alfasim-sdk.
* Add gas and liquid separation efficiency to ``Separator`` model.
* **Breaking Change**: Replaced radius from ``Separator`` geometry definition by diameter.
* Add new hook to calculate relative emulsion viscosity and also add the possibility of choosing it in the ``PhysicsDescription``.


0.8.0 (2021-04-12)
==================

* Add context support on ``alfasim_configure_fields``, ``alfasim_configure_layers`` and ``alfasim_configure_phases``.
* Change category for ``volumetric_flow_rates_std` from ``volume flow rate`` to ``standard volume per time``.
* Rename ``convert_alfacase_to_case`` to ``convert_alfacase_to_description``.
* Add new category: ``gas standard volume per time``, with same units as ``standard volume per time``.
* Drop ``B_parameter`` as Lee-Chien method for surface tension is not supported anymore.
* Add option to set the category for ``SecondaryVariable`` object
* Add ``WallsWithoutEnvironment`` to ``PipeEnvironmentHeatTransferCoefficientModelType`` enum.
* Add properties that control automatic definition of restart autosave, trend and profile saving frequency to ``TimeOptionsDescription`` and ``CaseOutputDescription``.
* Update documentation of ``get_simulation_array``, the wetted perimeters of layers are available.
* Add new API functions related Liquid-Liquid Mechanistic Model Hooks.
* Add four new hooks to calculate the Liquid-Liquid Mechanistic Model.

0.7.0 (2020-11-20)
==================

* Add support for alfacase.
* Released with ALFAsim 1.8.0.


0.6.1 (2020-10-30)
==================

* Internal release only.


0.6.0 (2020-10-29
=================

* Invalid release due to packaging error.

0.5.0
======

* Remove api functions `get_wall_layer_id` and `set_wall_layer_property`.
* Add `thickness`, `density`, `heat_capacity`, `thermal_conductivity` parameters on `update_internal_deposition_layer`

0.4.0
======

* Add new API functions related unit cell model friction factor hooks.

* Add two new hooks to calculate the unit cell model friction factor for stratified and annular flows.

0.3.0
======

* Adopt terminology gas-oil-water

* Add a new hook to evaluate the thickness of the deposited layer at the inside of the pipeline walls and it accounts for the diameter reduction.

* Rename HydrodynamicModelType items from snake_case to CamelCase, a backward compatibility option is kept.

0.2.0
======

* Add "required-alfasim-sdk" key on plugin.yaml to identify the required version of alfasim-sdk.

0.1.0
======

* First release.
